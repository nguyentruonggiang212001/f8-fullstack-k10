"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="34c57c6d-c9a6-525f-b95c-49c2a65aa14b")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1841],{231522:(e,t,a)=>{a.d(t,{Ac:()=>B,Bo:()=>I,E0:()=>A,EU:()=>E,F:()=>ee,F0:()=>X,Fb:()=>p,Gn:()=>O,HX:()=>R,HY:()=>b,Hl:()=>D,Ie:()=>u,Jr:()=>i,Ks:()=>c,LC:()=>M,N6:()=>s,Nd:()=>n,PT:()=>x,P_:()=>w,Pr:()=>z,Ps:()=>H,QB:()=>S,S:()=>et,Su:()=>g,TV:()=>P,W:()=>C,Wu:()=>L,Yw:()=>U,ZD:()=>Y,Zy:()=>Q,ab:()=>h,aq:()=>j,b0:()=>l,dX:()=>V,db:()=>f,eA:()=>J,fK:()=>$,h7:()=>F,hy:()=>q,iY:()=>es,im:()=>r,kv:()=>y,ni:()=>T,of:()=>K,p7:()=>_,pV:()=>v,q9:()=>G,qS:()=>er,re:()=>m,sD:()=>o,sH:()=>ea,uD:()=>N,uz:()=>d,vK:()=>k,vg:()=>W,x:()=>Z});let r="team_upgrade_v2--teamUpgrade---rASs",s="team_upgrade_v2--breadCrumbsMenuContainer--dvekb",n="team_upgrade_v2--cancelMenuItem--2RsWk",d="team_upgrade_v2--checkoutStepContainer--a0yBO",i="team_upgrade_v2--checkoutPageContent--HATl6",u="team_upgrade_v2--checkoutSidebarContainer--utUoC",p="team_upgrade_v2--stepTitle--4NAuW",l="team_upgrade_v2--stepSubtitle--YyFvT",o="team_upgrade_v2--adjustEditorsBody--jqZkR",m="team_upgrade_v2--adjustEditorsSection--S7GmH",_="team_upgrade_v2--teamWithAvatarHandle--cPZzE",c="team_upgrade_v2--adjustEditorsRow--kbqDx",g="team_upgrade_v2--adjustEditorsRowStart--Vse1R team_upgrade_v2--adjustEditorsRow--kbqDx",v="team_upgrade_v2--greyDivider--wKQUb",b="team_upgrade_v2--columnTitle--btKvn",h="team_upgrade_v2--editorColumn--vx6Sp",S="team_upgrade_v2--editorInfo--CSCyJ",E="team_upgrade_v2--normalGreyText--hzcfc",T="team_upgrade_v2--truncateEditorColumnText--GS8AU",C="team_upgrade_v2--editorEmail--mF8D- team_upgrade_v2--normalGreyText--hzcfc team_upgrade_v2--truncateEditorColumnText--GS8AU",A="team_upgrade_v2--checkboxColumn--Ocx0d",y="team_upgrade_v2--checkbox--UA9TI",D="team_upgrade_v2--plusSvg--Y1zMt",N="team_upgrade_v2--textLink--t33F3",w="team_upgrade_v2--paymentStripeContainer--UkrEB",f="team_upgrade_v2--reviewStepBody--bWjBO",R="team_upgrade_v2--reviewStepBodyWithBusinessDetails--1YrJl",x="team_upgrade_v2--reviewStepBusinessDetails--fcmPK",I="team_upgrade_v2--reviewStepSummary--ruxM5",k="team_upgrade_v2--banner--mJW7s",O="team_upgrade_v2--reviewStepCheckbox--3Q69b",P="team_upgrade_v2--reviewStepUpgradeTitle--QJfMJ",M="team_upgrade_v2--sidebarTitle--MY3Uh",B="team_upgrade_v2--sidebarOption--dHDz0",L="team_upgrade_v2--sidebarOptionLabel--IUNHx",U="team_upgrade_v2--sidebarOptionLabelWithAnnualSavings--861RA",F="team_upgrade_v2--sidebarCurrencyContainer--VMPEp",H="team_upgrade_v2--teamName--n59vL",Y="team_upgrade_v2--billingCycleHeader--8laVr",j="team_upgrade_v2--radioRow--tznVj",K="team_upgrade_v2--strikethrough--jI4mc",q="team_upgrade_v2--greyStrikethrough--Jbgox team_upgrade_v2--strikethrough--jI4mc",W="team_upgrade_v2--editorCostRow--KJrC6",G="team_upgrade_v2--calculationRow--PKA-7",V="team_upgrade_v2--planComparison--XjxhG",J="team_upgrade_v2--createTeamButton--F2nsr",X="team_upgrade_v2--createTeamNameInput--BvH1V",z="team_upgrade_v2--createTeamIcon--27Mtz",Q="team_upgrade_v2--createTeamTextInput--qXTZr",Z="team_upgrade_v2--createTeamUpgradeExisting--Vjzv8",$="team_upgrade_v2--cartButton--dj1gp",ee="team_upgrade_v2--centered--HXt6c",et="team_upgrade_v2--loadingSpinner--qI2xc publish_modal--spinner--7DaqW",ea="team_upgrade_v2--numeric--eSa4E",er="team_upgrade_v2--badge--hwxQy",es="team_upgrade_v2--infoSection--HIqIK"},55992:(e,t,a)=>{a.d(t,{kR:()=>C,vU:()=>A});var r=a(411855),s=a(188507),n=a(935283),d=a(966712),i=a(48793),u=a(939863),p=a(738269),l=a(507877),o=a(101505),m=a(672517),_=a(195971),c=a(860178),g=a(257512),v=a(622139),b=a(637590),h=a(231522);function S(e){return r.createElement(m.$z,{type:"button",className:h.Nd,trackingProperties:{trackingDescriptor:o.c.CANCEL},onClick:e.onClick},(0,u.tx)("pro_cart.breadcrumbs.cancel"))}var E=(e=>(e[e.PLAN_COMPARISON=0]="PLAN_COMPARISON",e[e.CREATE_TEAM=1]="CREATE_TEAM",e[e.ADD_COLLABORATORS=2]="ADD_COLLABORATORS",e[e.ADJUST_EDITORS=3]="ADJUST_EDITORS",e[e.SET_EDITORS=4]="SET_EDITORS",e[e.PAYMENT_AND_ADDRESS=5]="PAYMENT_AND_ADDRESS",e[e.CONFIRM_PAY=6]="CONFIRM_PAY",e))(E||{});function T(e,t,a,r){let s=t===v.tY.STUDENT,d=[];switch(e){case b.SC.CREATE_AND_UPGRADE:d.push(0),d.push(1),s?d.push(4):a||(d.push(4),d.push(5)),d.push(6);break;case b.SC.UPGRADE_EXISTING_TEAM:r===b.Sc.TEAM?(d.push(3),s||d.push(5)):s?(d.push(0),d.push(3)):a?d.push(0):(d.push(0),d.push(4),d.push(5)),d.push(6);break;case b.SC.CREATE:d.push(1),d.push(2),d.push(0),r===b.Sc.TEAM&&(s?d.push(4):a||(d.push(4),d.push(5)),d.push(6));break;default:(0,n.xb)(e)}return d.map(e=>(function(e){switch(e){case 0:return{step:v.tn.PLAN_COMPARISON,text:(0,u.t)("pro_cart.breadcrumbs.choose_plan")};case 1:return{step:v.tn.CREATE_TEAM,text:(0,u.t)("pro_cart.breadcrumbs.create_team")};case 2:return{step:v.tn.ADD_COLLABORATORS,text:(0,u.t)("pro_cart.breadcrumbs.add_team_members")};case 3:return{step:v.tn.CHOOSE_PLAN,text:(0,u.t)("pro_cart.breadcrumbs.adjust_editors.seat_rename")};case 4:return{step:v.tn.CHOOSE_PLAN,text:(0,u.t)("pro_cart.breadcrumbs.set_editors.seat_rename")};case 5:return{step:v.tn.PAYMENT_AND_ADDRESS,text:(0,u.t)("pro_cart.breadcrumbs.payment_information")};case 6:return{step:v.tn.CONFIRM_PAY,text:(0,u.t)("pro_cart.breadcrumbs.review")}}})(e))}function C(e,t,a,r,s,n){let d=T(t,a,r,s).map(e=>e.step),i=d.indexOf(e);return n=n||d[0],-1===i?n:d[i+1]}function A(e){var t;let{selectedView:a}=e,{teamId:n,paymentStep:u,teamFlowType:o}=a,m=(0,s.wA)(),E=(0,s.d4)(e=>e.payment.billingPeriod),C=null==(t=(0,c.iZ)())?void 0:t.id,A=T(o,E,(0,s.d4)(e=>e.payment.promo),e.selectedView.planType||b.Sc.UNDETERMINED),y=A.findIndex(e=>e.step===u);return r.createElement("div",{className:h.N6},r.createElement(S,{onClick:()=>{var e;((0,d.sj)(),(0,g.Mt)(m),(0,b.h5)(o)&&null===n&&(0,_.Al)(C),(0,d.kc)().ps_benchmark&&C)?n&&(!a.previousView||"fullscreen"!==a.previousView.view)?m(l._l({workspace:{userId:C,teamId:n,orgId:null},view:{view:"recentFiles"}})):m(p.$T(a.previousView||{view:"recentFiles"})):m(p.$T(a.previousView||(n?{view:"team",teamId:n}:{view:"recentFiles"}))),null==(e=a.callbackOnClose)||e.call(a)}}),A.map((e,t)=>r.createElement(i.On,{key:e.text,selected:u===e.step,number:t+1,text:e.text,canClick:t<y,lightText:!0,onClick:()=>{m(p.$T({...a,paymentStep:e.step,billingPeriod:E===v.tY.UNSPECIFIED?void 0:E,planType:(0,b.ck)(o,e.step)?b.Sc.UNDETERMINED:a.planType,teamFlowType:(0,b.jX)(o)&&e.step===v.tn.PLAN_COMPARISON?b.SC.CREATE_AND_UPGRADE:a.teamFlowType}))}})))}},195971:(e,t,a)=>{a.d(t,{Al:()=>b,dT:()=>v,kt:()=>c,lX:()=>_,nt:()=>E,pI:()=>g});var r=a(411855),s=a(188507),n=a(531664),d=a(358145),i=a(286640),u=a(99506),p=a(479296),l=a(860178),o=a(243987);let m=e=>`SAVED_CART::${e}`;function _({teamId:e,userId:t}){if(!t)return null;let a=S(t);return(null==a?void 0:a.teamId)===e?a:null}let c=443==a.j?["","",""]:null;function g({loadingPaidEditors:e,teamId:t,teamName:a,setTeamName:i,collaborators:p,setCollaborators:m}){let _=(0,l.iZ)(),g=(0,s.d4)(e=>(t?e.teamUserByTeamId[t]:{})||{}),b=(0,s.d4)(e=>e.payment.numDesignEditors),h=(0,s.d4)(e=>e.payment.numWhiteboardEditors),E=(0,s.d4)(e=>e.payment.editorStatusChanges),T=(0,d.ZC)(e),C=(0,o.BR)(g,_),A=(0,o.O1)(b,(0,o.Ky)(C,E,u._Y.DESIGN)),y=(0,o.O1)(h,(0,o.Ky)(C,E,u._Y.WHITEBOARD)),D=(0,r.useCallback)(()=>{let e=S(null==_?void 0:_.id);if(!e)return null;let{createdAt:t,updatedAt:a,...r}=e;return r},[null==_?void 0:_.id]);(0,r.useEffect)(()=>{let r=D(),s=null!==t||a?a:null==r?void 0:r.newTeamName,d=null===t&&!p||(0,n.c2)(p,c)?(null==r?void 0:r.newCollaborators)??c:p,u={teamId:t,editorStatusChanges:E,numEmptyDesignSeats:A,numEmptyWhiteboardSeats:y,newTeamName:s,newCollaborators:d,is3DS:null==r?void 0:r.is3DS};!e&&_&&((0,n.he)(r,u)||v(_.id,u),T&&(i&&s!==a&&i(s||""),m&&!(0,n.c2)(p,d)&&m(d||c)))},[e,T,_,t,E,A,y,D,a,i,p,m])}let v=(0,p.D)((e,t)=>{var a;try{let r=new Date().toISOString(),s={...t,createdAt:r,updatedAt:r};null==(a=(0,i.TQ)())||a.setItem(m(e),h(s))}catch(e){console.error("Failed to save cart state to Local Storage")}});function b(e){var t;if(e)try{null==(t=(0,i.TQ)())||t.removeItem(m(e))}catch(e){}}let h=e=>JSON.stringify(e),S=e=>{var t;if(!e)return null;try{let a=null==(t=(0,i.TQ)())?void 0:t.getItem(m(e));if(a)return JSON.parse(a);return null}catch(e){return null}};function E(e,t){let a=t.map(e=>e.id),r=e=>(null==e?void 0:e.filter(e=>a.includes(e)))??[];return{upgrade:{design:r(e.upgrade.design),slides:r(e.upgrade.slides),sites:r(e.upgrade.sites),whiteboard:r(e.upgrade.whiteboard)},downgrade:{design:r(e.downgrade.design),slides:r(e.downgrade.slides),sites:r(e.downgrade.sites),whiteboard:r(e.downgrade.whiteboard)}}}},257512:(e,t,a)=>{a.d(t,{$7:()=>A,Mt:()=>N,Ud:()=>y});var r=a(411855),s=a(188507),n=a(776250),d=a(367253),i=a(358145),u=a(966712),p=a(27087),l=a(881388),o=a(939863),m=a(738269),_=a(182976),c=a(995852),g=a(229403),v=a(99506),b=a(622139),h=a(479296),S=a(195971),E=a(860178),T=a(336599),C=a(243987);function A(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.payment);function a(a){e(c.Az({numWhiteboardEditors:t.numWhiteboardEditors+a}))}function r(a){e(c.js({numDesignEditors:t.numDesignEditors+a}))}return{increment:function(e,t){(0,d.nD)(t)||("whiteboard"===e?a(1):r(1))},decrement:function(e,t){(0,d.nD)(t)||("whiteboard"===e?a(-1):r(-1))}}}let y=(0,h.D)(({teamId:e,canSeeBillingAddressExp:t})=>{let a=(0,s.wA)(),_=(0,s.d4)(e=>e.loadingState),h=(0,s.d4)(t=>e?t.teamUserByTeamId[e]:null),A=(0,s.d4)(e=>e.selectedView),y=(0,E.iZ)(),[w,f]=(0,r.useState)(!0),R=(0,i.ZC)(e),x=g.Xw.loadingKeyForPayload({teamId:e}),I=(0,T.GH)(_,x),k=(0,u.DC)();(0,r.useEffect)(()=>{a(g.Xw({teamId:e}))},[a,e]);let O=function(){let e=(0,s.wA)();return(0,r.useCallback)(t=>{(0,n.sx)("Loaded Saved Cart State",{teamId:t.teamId,lastSavedAt:t.updatedAt}),e(c.eK(t))},[e])}();return(0,r.useEffect)(()=>{async function r(t){try{let r=await p.Ay.post("/api/subscriptions/teams/calculate_estimate",{...t,team_id:e});a(c.i({taxes:r.data.meta.estimate}))}catch(e){a(l.s.error((0,o.t)("payments.errors.estimate_calculation_error"))),a(m.$T({...A,paymentStep:b.tn.PAYMENT_AND_ADDRESS}))}f(!1)}if(void 0===R||R===e||w||(N(a),f(!0)),(!e||I)&&w){let n=(0,C.BR)(h,y),i=Object.entries(n).map(([e,t])=>{if((0,d.nD)(t.email||""))return e}).filter(e=>!!e);a(c.M2({figmaEmailTeamUsers:i}));let u=(0,S.lX)({teamId:e,userId:null==y?void 0:y.id});if(u){u.editorStatusChanges=(0,S.nt)(u.editorStatusChanges,n);let d=(0,C.Ky)(n,u.editorStatusChanges,v._Y.DESIGN),p=(0,C.Ky)(n,u.editorStatusChanges,v._Y.WHITEBOARD),l=d+u.numEmptyDesignSeats,o=p+u.numEmptyWhiteboardSeats;if(O({numDesignEditors:l,numWhiteboardEditors:o,editorStatusChanges:u.editorStatusChanges,teamId:e,updatedAt:u.updatedAt}),k){var s;let e=(s=k.billing_period,b.tY[b.tY[s]]),n=t?{billing_address:k.billing_address,shipping_address:k.shipping_address||k.billing_address}:null;a(c.Lo({billingPeriod:e})),a(c.$h({vatGstId:k.vat_gst_id})),a(c.yy({legalName:k.customer_legal_name||k.company_name,displayName:k.display_name})),a(c.Ef({regionalVatGstId:k.regional_vat_gst_id})),r({address:k.address,editor_status_changes:u.editorStatusChanges,figma_email_team_users:i,selected_currency:k.currency,annual_quantity:(0,C.fD)(e,l),monthly_quantity:(0,C.Rq)(e,l),annual_whiteboard_quantity:(0,C.fD)(e,o),monthly_whiteboard_quantity:(0,C.Rq)(e,o),vat_gst_id:k.vat_gst_id,regional_vat_gst_id:k.regional_vat_gst_id,...n})}else f(!1)}else f(!1)}},[a,I,h,R,e,y,w,k,A,O,t]),(0,r.useEffect)(()=>()=>{e&&D(a,e)},[a,e]),w}),D=(0,h.D)((e,t)=>{let a=g.Xw.loadingKeyForPayload({teamId:t});e(_.yH({key:a}))});function N(e){e(c.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[]}}})),e(c.js({numDesignEditors:0})),e(c.Az({numWhiteboardEditors:0}))}},848044:(e,t,a)=>{a.d(t,{I:()=>s});var r=a(411855);class s extends r.Component{render(){return r.createElement("div",{className:"persisted_error--container--ls5K4",style:{marginTop:this.props.marginTop??32}},r.createElement("div",{className:"persisted_error--sideBar--C-abH"}),r.createElement("div",{className:"persisted_error--message--EiciR"},this.props.message))}}},48793:(e,t,a)=>{a.d(t,{On:()=>n,Kh:()=>u,JR:()=>i});var r=a(411855),s=a(935283);class n extends r.PureComponent{render(){(0,s.KF)(Number.isInteger(this.props.number),"breadcrumb step must be an integer"),(0,s.KF)(this.props.number>=1&&this.props.number<=20,"breadcrumb step is out of expected range");let e="";return this.props.selected?(e+="step_breadcrumb--stepSelected--aaq-4 step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--whiteText--TeOgy")):(e+="step_breadcrumb--step--h0dTR",this.props.lightText&&(e+=" step_breadcrumb--greyText--Xid8Q")),this.props.canClick&&(this.props.lightText?e+=" step_breadcrumb--stepClickableLight--e7tX-":e+=" step_breadcrumb--stepClickable--t001q step_breadcrumb--step--h0dTR step_breadcrumb--stepClickable-on-hover---oTm4"),r.createElement("div",{"data-testid":this.props.number+this.props.text,className:e,onClick:()=>this.props.canClick&&this.props.onClick&&this.props.onClick()},r.createElement("span",{className:"step_breadcrumb--stepNumber--0A5tz"},String.fromCharCode(9311+this.props.number)),this.props.text)}}n.displayName="StepBreadcrumb";class d extends r.PureComponent{render(){return r.createElement("div",{className:"step_breadcrumb--stepBreadcrumbSpacer--baFNr"})}}d.displayName="StepBreadcrumbSpacer";class i extends r.PureComponent{render(){return r.createElement("div",{className:`step_breadcrumb--stepTitle--kyggE text--fontPos22--4H4Fc text--_fontBase--QdLsd ${this.props.className||""}`},this.props.children)}}i.displayName="StepTitle";class u extends r.PureComponent{render(){return r.createElement("div",{className:"step_breadcrumb--stepInstructions--gjSRc text--fontPos14--OL9Hp text--_fontBase--QdLsd",...this.props})}}u.displayName="StepInstructions"}}]);

//# debugId=34c57c6d-c9a6-525f-b95c-49c2a65aa14b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/cc9cab0a12e3aaf095252c22302cf60a2d661754/1841-92e83c02b5bb5ae1.min.js.map